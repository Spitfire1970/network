{% extends "network/layout.html" %}

{% block body %}

<div style = "margin-left: 5px;padding: 2px">
    <h2>All Posts</h2>
    {% if user.is_authenticated %}
    <div style = "border:0.5px solid rgb(171, 169, 169);margin-left: 1%;margin-right:1%;padding: 20px">
        <form action = "{% url 'index' %}" method = "post">
            <h3>New Post</h3>
            {% csrf_token %}
            <textarea name = "desc" rows = "3" cols = "100" required></textarea><br>
            <input type = "submit" value = "Post" style = "background-color:rgb(66, 135, 233); color:white">
        </form>
    </div>
    {% endif %}
    <br>
    {% for post in posts %}
    <div id = "{{post.pk}}" style = "border:0.5px solid rgb(60, 60, 60);margin-left: 1%;margin-right:1%; padding:10px">
        <h5 style = "color: black">@{{post.user}}</h5>
        {% if user == post.user %}
        <h6 href = "" style="color: rgb(0, 89, 255);">Edit</h6>
        {%endif%}
        <h6>{{post.text}}</h6>
        <h6 style = "color: grey">{{post.time_created}}</h6>
        <i class="fa-regular fa-heart fa-lg" style="color: #da3d33;"></i>
        147
        <h6 style = "color: grey">Comment</h6>
    </div>
    <br>
    {%endfor%}
</div>
    
{% endblock %}